<!doctype html> <!-- Important: must specify -->
<html>
  <head>
    <meta charset="utf-8"> <!-- Important: rapi-doc uses utf8 characters -->
    <script type="module" src="https://unpkg.com/rapidoc/dist/rapidoc-min.js"></script>
  </head>
  <body>
    <rapi-doc 
        id="rapi-doc"
        spec-url = "/oas/v1/openapi.yml"
        show-header = "false"
        show-method-in-nav-bar = "as-colored-text"
        sort-tags = "true"
        sort-endpoints-by = "path"
        default-schema-tab = "schema"
    >
    </rapi-doc>

    <!--  when it is deployed it doesn't try to access localhost -->

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const rapiDocElement = document.getElementById('rapi-doc');
        rapiDocElement.setAttribute('server-url', `${window.location.origin}/api/v1`);
      });
    </script>
  </body>
</html>
